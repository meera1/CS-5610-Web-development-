<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

    <head>

        <title>Experiment 29</title>
        <link href="public/css/bootstrap-theme.css" rel="stylesheet" />
        <link href="public/css/bootstrap.css" rel="stylesheet" />
        <script src="public/js/angular.js"></script>
        <script src="public/js/angular-route.js"></script>
        <style>
            body{
                background-image: url(image.jpg);
                margin:355px;
                margin-top:50px;
            } 
            h2{
                color: #1a1a1a;
            } 
              .p4 {
            
         font-family: verdana,sans-serif;
         font-size: 16px;
         color:black;
            }

              .a1{
                  color:blue;
               }
           
               h1{
            text-align:center;

                }

        </style>
    </head>

<body>

    <h1>Experiment 29: Web Scraping Part II </h1>
    <hr>


    <h2>
    Documentation
    </h2><pre>

<p class="p4">
    Kindly check 'serverApp4.js' for this experiment which has a link at the bottom of this page    
    This experiment has a basic scrapping example using the cheerio module.
    This experiment goes a bit more in detail of extracting content from nested tags.
    
    Let's walk through the entire process with examples:
 </p>
         </pre>
    <br>

   
<h2>Code Snippet</h2>

<pre class="p4">
<p class="p4">
var request = require("request");
var cheerio = require("cheerio");
request('https://news.ycombinator.com', function (error, response, html) {
    if (!error && response.statusCode == 200)  // status code 200 means that the request has been succeeded without an error
    {
        var $ = cheerio.load(html);
        $('span.comhead').each(function (i, element)  // selecting the span tag of the html doc with class as 'comhead' then iterating over them
        {
            var a = $(this).prev(); //looking at the DOM, we want the 'a' tag above the span tag extracted,                    //which can be found by 'prev()' 
            console.log(a.text());
        });
    }
});

            </pre>
    </p>

    <h2>Screen Shot above example</h2>

<pre class="p4">
<p class="p4">
        The website that is being extracted has a DOM like this:
  
            </pre>
    </p>

    <img src="app2 shots/youtput.png" width="1000" height="600"/>

    <hr>
    <pre class="p4">
<p class="p4">
        The output after extracting the titles of this page looks like this:
  
            </pre>
    </p>

    <img src="app2 shots/ycombinator.png" width="1000" height="600" />

    <hr>

    <h2>Source Code</h2>
    <a class="p4 a1" href="../../fileview/Default.aspx?~/experiments/node5610/04.html" target="_blank">View Source of this page</a><br />
    <a class="p4 a1" href="../../fileview/Default.aspx?~/experiments/node5610/serverApp4.js" target="_blank">View Source of 'serverApp4.js' having the 'cheerio' module code</a><br />
    
    <hr />
    <h2>References Links</h2>
    <a class="p4 a1" href="http://youtu.be/Lnd_uSEpCdo" target="_blank">YouTube link for Jose Annuniziato's leture of Introduction to NodeJS & Express</a> <br />
    <a class="p4 a1" href="http://nodejs.org/" target="_blank">NodeJS Official Site</a> <br />
    <a class="p4 a1" href="http://www.sitepoint.com/web-scraping-in-node-js/" target="_blank">A blog discussing how to use the cheerio module</a>


    <hr />

</body>
</html>


